(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67096bb9"],{2426:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.onCreateNewClicked}},[e._v("新建"),o("i",{staticClass:"el-icon-plus el-icon--right"})]),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[o("el-table-column",{attrs:{align:"center",label:"题目ID",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.quesId)+" ")]}}])}),o("el-table-column",{attrs:{label:"题目描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.descrip)+" ")]}}])}),o("el-table-column",{attrs:{label:"题目答案"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.answer)+" ")]}}])}),o("el-table-column",{attrs:{label:"题目分值",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.score)+" ")]}}])}),o("el-table-column",{attrs:{label:"题目标签",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.tag)+" ")]}}])}),o("el-table-column",{attrs:{label:"题型",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.type)+" ")]}}])}),o("el-table-column",{attrs:{align:"center",prop:"created_at",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button-group",[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(o){return e.onEditClicked(t.row.quesId,t.$index)}}}),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(o){return e.onDeleteClicked(t.row.quesId,t.$index)}}})],1)]}}])})],1),o("el-dialog",{attrs:{visible:e.wordsDialog.visible,title:e.wordsDialog.title,width:"50%",center:""},on:{close:function(t){e.wordsDialog.visible=!1}},scopedSlots:e._u([{key:"footer",fn:function(){return[o("span",{staticClass:"dialog-footer"},[o("el-button",{on:{click:function(t){e.wordsDialog.visible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.wordsDialogConfirmOnClicked}},[e._v("确 定")])],1)]},proxy:!0}])},[o("el-form",{attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"题目描述","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.questionDescription,callback:function(t){e.$set(e.form,"questionDescription",t)},expression:"form.questionDescription"}})],1),o("el-form-item",{attrs:{label:"题目回答","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.questionAnswer,callback:function(t){e.$set(e.form,"questionAnswer",t)},expression:"form.questionAnswer"}})],1),o("el-form-item",{attrs:{label:"题型","label-width":"120px"}},[o("el-radio-group",{attrs:{size:"small"},model:{value:e.form.questionType,callback:function(t){e.$set(e.form,"questionType",t)},expression:"form.questionType"}},[o("el-radio-button",{attrs:{label:"select"}}),o("el-radio-button",{attrs:{label:"judge"}}),o("el-radio-button",{attrs:{label:"qa"}})],1)],1),o("el-form-item",{attrs:{label:"分值","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.questionScore,callback:function(t){e.$set(e.form,"questionScore",t)},expression:"form.questionScore"}})],1),o("el-form-item",{attrs:{label:"题目标签","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.questionTag,callback:function(t){e.$set(e.form,"questionTag",t)},expression:"form.questionTag"}})],1)],1)],1)],1)},n=[],s=(o("a434"),o("90bb")),r={data:function(){return{list:null,listLoading:!0,wordsDialog:{visible:!1,title:"",changeMode:"add"},mediaDialog:{visible:!1,contentVisible:!0,title:""},form:{index:-1,questionId:-1,questionDescription:"",questionAnswer:"",questionTag:"",questionScore:0,questionType:"select"},selectValue:""}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(s["d"])().then((function(t){e.list=t.data.responseMap.result,e.listLoading=!1}))},onCreateNewClicked:function(){this.wordsDialog.title="新增题目",this.form.questionDescription="",this.form.questionAnswer="",this.form.questionTag="",this.form.questionType="",this.form.questionImage="",this.form.questionScore=0,this.wordsDialog.visible=!0,this.wordsDialog.changeMode="add"},onDeleteClicked:function(e,t){var o=this;this.$confirm("此操作将永久删除此记录，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["c"])({quesId:e}).then((function(e){200===e.data.status?(console.log("delete question success"),o.list.splice(t,1)):alert("删除失败")})),o.$message({type:"success",message:"删除成功！"})})).catch((function(){o.$message({type:"info",message:"已取消删除"})}))},onEditClicked:function(e,t){this.wordsDialog.title="编辑题目",this.form.questionId=e,this.form.index=t,this.form.questionDescription=this.list[t].descrip,this.form.questionAnswer=this.list[t].answer,this.form.questionTag=this.list[t].tag,this.form.questionType=this.list[t].type,this.form.questionScore=this.list[t].score,this.wordsDialog.visible=!0,this.wordsDialog.changeMode="update"},wordsDialogConfirmOnClicked:function(){var e=this,t={id:this.form.questionId,index:this.form.index,descrip:this.form.questionDescription,answer:this.form.questionAnswer,score:this.form.questionScore,type:this.form.questionType,tag:this.form.questionTag,changeMode:this.wordsDialog.changeMode};console.log("1"),Object(s["e"])(t).then((function(t){console.log("2");var o=e.form.index,i=e.wordsDialog.changeMode,n={descrip:e.form.questionDescription,answer:e.form.questionAnswer,score:e.form.questionScore,type:e.form.questionType,tag:e.form.questionTag};if("update"===i){if(null!=o&&o>=0){var r=e.form.questionId;e.list[o].descrip=e.form.questionDescription,e.list[o].answer=e.form.questionAnswer,e.list[o].score=e.form.questionScore,e.list[o].type=e.form.questionType,e.list[o].tag=e.form.questionTag,Object(s["b"])(r,n).then((function(e){console.log("Updated question"+n)}))}}else"add"===i&&(console.log("3"),Object(s["a"])(n).then((function(t){console.log("Create new question"+n),e.list.push({quesId:t.data.responseMap.result,descrip:e.form.questionDescription,answer:e.form.questionAnswer,type:e.form.questionType,score:e.form.questionScore,tag:e.form.questionTag})})));e.wordsDialog.visible=!1}))}}},l=r,a=o("2877"),u=Object(a["a"])(l,i,n,!1,null,null,null);t["default"]=u.exports},"90bb":function(e,t,o){"use strict";o.d(t,"d",(function(){return s})),o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return l})),o.d(t,"c",(function(){return a})),o.d(t,"e",(function(){return u}));var i=o("b775"),n=o("2fff");function s(){return Object(n["a"])({url:"/admin/test/question",method:"get",params:null})}function r(e,t){return Object(n["a"])({url:"/admin/test/question/"+e,method:"post",data:t})}function l(e){return Object(n["a"])({url:"admin/test/question",method:"put",data:e})}function a(e){return Object(n["a"])({url:"/admin/test/question",method:"delete",params:e})}function u(e){if(null!=e.changeMode)return e.changeMode,Object(i["a"])({url:"/vue-admin-template/table/list",method:"get",params:e})}},a434:function(e,t,o){"use strict";var i=o("23e7"),n=o("23cb"),s=o("a691"),r=o("50c4"),l=o("7b0b"),a=o("65f0"),u=o("8418"),c=o("1dde"),d=o("ae40"),f=c("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!m},{splice:function(e,t){var o,i,c,d,f,m,q=l(this),w=r(q.length),v=n(e,w),y=arguments.length;if(0===y?o=i=0:1===y?(o=0,i=w-v):(o=y-2,i=h(p(s(t),0),w-v)),w+o-i>g)throw TypeError(b);for(c=a(q,i),d=0;d<i;d++)f=v+d,f in q&&u(c,d,q[f]);if(c.length=i,o<i){for(d=v;d<w-i;d++)f=d+i,m=d+o,f in q?q[m]=q[f]:delete q[m];for(d=w;d>w-i+o;d--)delete q[d-1]}else if(o>i)for(d=w-i;d>v;d--)f=d+i-1,m=d+o-1,f in q?q[m]=q[f]:delete q[m];for(d=0;d<o;d++)q[d+v]=arguments[d+2];return q.length=w-i+o,c}})}}]);